"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MandatoryAddressParametersValidator = void 0;
const address_fields_1 = require("./address-fields");
const address_type_1 = require("./address-type");
const result_1 = require("../../../result");
class MandatoryAddressParametersValidator {
    constructor(addressType, fieldsToValidate) {
        this.addressType = address_type_1.AddressType.Sender;
        this.fieldsToValidate = [];
        this.addressType = addressType;
        this.fieldsToValidate = fieldsToValidate;
    }
    validate(request) {
        const address = this.addressType === address_type_1.AddressType.Sender
            ? request.ship_from
            : request.ship_to;
        const result = new result_1.Result();
        this.fieldsToValidate.forEach((parameter) => {
            let isEmpty = false;
            switch (parameter) {
                case address_fields_1.AddressFields.Country:
                    if (!address.country_code) {
                        isEmpty = true;
                    }
                    break;
                case address_fields_1.AddressFields.AddressLine0:
                    if (!address.address_lines || !address.address_lines[0]) {
                        isEmpty = true;
                    }
                    break;
                case address_fields_1.AddressFields.City:
                    if (!address.city_locality) {
                        isEmpty = true;
                    }
                    break;
                case address_fields_1.AddressFields.Name:
                    if (!address.name) {
                        isEmpty = true;
                    }
                    break;
                case address_fields_1.AddressFields.PhoneNumber:
                    if (!address.phone_number) {
                        isEmpty = true;
                    }
            }
            if (isEmpty) {
                result.addResult(result_1.Result.Error(`${this.addressType} ${parameter} is required.`));
            }
        });
        return result;
    }
}
exports.MandatoryAddressParametersValidator = MandatoryAddressParametersValidator;
//# sourceMappingURL=mandatory-address-parameters-validator.js.map