"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CustomsItemsRequiredIfOneSelectedValidator = void 0;
const result_1 = require("../../../result");
class CustomsItemsRequiredIfOneSelectedValidator {
    constructor() { }
    validate(request) {
        const packages = request.packages;
        const result = result_1.Result.Success();
        packages.forEach((pck) => {
            var _a, _b, _c, _d, _e;
            const values = [(_a = pck.customs) === null || _a === void 0 ? void 0 : _a.contents, (_b = pck.customs) === null || _b === void 0 ? void 0 : _b.customs_items];
            if (!values.filter((i) => i !== undefined)) {
                return result;
            }
            if (!pck.customs) {
                result.addError('Package does not have customs information.');
                return;
            }
            if (!pck.customs.contents) {
                result.addError('Package does not have customs contents information.');
                return;
            }
            if (!((_c = pck.customs) === null || _c === void 0 ? void 0 : _c.customs_items)) {
                result.addError('Package does not have customs items information.');
                return;
            }
            (_e = (_d = pck.customs) === null || _d === void 0 ? void 0 : _d.customs_items) === null || _e === void 0 ? void 0 : _e.forEach((items) => {
                var _a, _b;
                if (!items.quantity) {
                    result.addError('Package customs item does not have quantity information.');
                }
                if (!items.description) {
                    result.addError('Package customs item does not have description information.');
                }
                if (!items.value) {
                    result.addError('Package customs item does not have value information.');
                    return;
                }
                if (!((_a = items.value) === null || _a === void 0 ? void 0 : _a.amount)) {
                    result.addError('Package customs item does not have value amount information.');
                }
                if (!((_b = items.value) === null || _b === void 0 ? void 0 : _b.currency)) {
                    result.addError('Package customs item does not have value currency information.');
                }
                if (!items.country_of_origin) {
                    result.addError('Package customs item does not have country of origin information.');
                }
                if (!items.harmonized_tariff_code) {
                    result.addError('Package customs item does not have harmonized tariff code information.');
                }
                if (!items.sku) {
                    result.addError('Package customs item does not have sku information.');
                }
                if (!items.sku_description) {
                    result.addError('Package customs item does not have sku description information.');
                }
                if (!items.item_weight) {
                    result.addError('Package customs item does not have item weight information.');
                }
            });
        });
        return result;
    }
}
exports.CustomsItemsRequiredIfOneSelectedValidator = CustomsItemsRequiredIfOneSelectedValidator;
//# sourceMappingURL=customs-items-required-if-one-selected-validator.js.map