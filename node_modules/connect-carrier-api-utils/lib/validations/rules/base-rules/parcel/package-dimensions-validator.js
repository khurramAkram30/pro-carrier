"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CheckPackagesMaxDimensions = void 0;
const result_1 = require("../../../result");
const custom_validation_helper_1 = require("../../../custom-validation-helper");
const logic_helper_1 = require("../../../../logic-helper");
class CheckPackagesMaxDimensions {
    validate(request) {
        const result = new result_1.Result();
        const { packages } = request;
        for (let i = 0; i < packages.length; i++) {
            const getSortedDimensions = (0, custom_validation_helper_1.GetSortedPackageDimensions)(packages[i]);
            for (let y = 0; y < this.dimensionCaptions.length; y++) {
                if (getSortedDimensions[y] > this.maxDimensions[y]) {
                    (0, logic_helper_1.LogError)(`For package number ${i + 1} ${this.dimensionCaptions[y]} dimension must be lower than ${this.maxDimensions[y]}. Current provided value is ${getSortedDimensions[y]}.`);
                    result.addError(`For package number ${i + 1} ${this.dimensionCaptions[y]} dimension must be lower than ${this.maxDimensions[y]}.`);
                }
            }
        }
        return result;
    }
    constructor(maxDimensions) {
        this.dimensionCaptions = [
            'shortest',
            'middle',
            'longest'
        ];
        this.maxDimensions = maxDimensions.sort((a, b) => a - b);
    }
}
exports.CheckPackagesMaxDimensions = CheckPackagesMaxDimensions;
//# sourceMappingURL=package-dimensions-validator.js.map