"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NumberOfPackageValidator = void 0;
const result_1 = require("../../../result");
class NumberOfPackageValidator {
    constructor(max, min = 1) {
        this.min = min;
        this.max = max;
    }
    validate(request) {
        const packages = request.packages;
        if (this.min === 0 || packages.length === 0) {
            return result_1.Result.Error('The package is mandatory. Please provide at least one package.');
        }
        if (this.max === 1 && packages.length > 1) {
            return result_1.Result.Error('Multi parcel is not allowed.');
        }
        if (packages.length < this.min || packages.length > this.max) {
            return result_1.Result.Error(`The number of packages must be between ${this.min} and ${this.max}`);
        }
        return result_1.Result.Success();
    }
}
exports.NumberOfPackageValidator = NumberOfPackageValidator;
//# sourceMappingURL=number-of-package-validator.js.map