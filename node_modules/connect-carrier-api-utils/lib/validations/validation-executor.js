"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ValidationExecutor = void 0;
const result_1 = require("./result");
const logic_helper_1 = require("../logic-helper");
/**
 * ValidationExecutor is responsible to execute the validation plan based on the incoming request
 */
class ValidationExecutor {
    /**
     * @param validationPlan its a plan that contains the validation rules per service
     */
    constructor(validationPlan) {
        this.validationPlan = validationPlan;
    }
    /**
     * Execute the validation plan based on the incoming request. The service is selected based on the request.
     * @param request create label request.
     */
    execute(request) {
        const result = new result_1.Result();
        const validations = this.validationPlan.getValidationRulesForActiveServices(request);
        if (!validations) {
            (0, logic_helper_1.HandleError)('No validations found for active services');
            return;
        }
        validations.forEach((validation) => {
            result.addResult(validation.validate(request));
        });
        if (result.hasError()) {
            (0, logic_helper_1.HandleError)(result.getMessages());
        }
    }
}
exports.ValidationExecutor = ValidationExecutor;
//# sourceMappingURL=validation-executor.js.map